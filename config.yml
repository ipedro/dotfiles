---
# Homebrew taps
homebrew_taps:
  - homebrew/cask-fonts

# Homebrew packages (formulae)
homebrew_packages:
  - cloc
  - direnv
  - gh
  - go
  - hugo
  - iperf3
  - mint
  - node
  - openai-whisper
  - pipx
  - python@3.14
  - rbenv
  - ripgrep
  - swift-format
  - swiftformat
  - swiftlint
  - xclogparser
  - zsh-autosuggestions
  - zsh-completions
  - zsh-syntax-highlighting

# Homebrew casks (GUI apps - only those NOT available on MAS)
homebrew_casks:
  - android-platform-tools
  - ankerwork
  - betterdisplay
  - blender
  - chatgpt
  - creality-print
  - font-jetbrains-mono
  - fork
  - freecad
  - google-chrome
  - ollama-app
  - openscad
  - raspberry-pi-imager
  - rustdesk
  - sf-symbols
  - sketch
  - visual-studio-code
  - xcodes-app

# Mac App Store apps (preferred over casks when available)
# Requires: brew install mas && mas signin
mas_apps:
  - { id: 1365531024, name: "1Blocker" }
  - { id: 948660805, name: "AusweisApp" }
  - { id: 1352778147, name: "Bitwarden" }
  - { id: 425264550, name: "Blackmagic Disk Speed Test" }
  - { id: 1397180934, name: "Dark Mode for Safari" }
  - { id: 1388020431, name: "DevCleaner" }
  - { id: 1358823008, name: "Flighty" }
  - { id: 6753110395, name: "Folder Quick Look" }
  - { id: 1099568401, name: "Home Assistant" }
  - { id: 1136220934, name: "Infuse" }
  - { id: 409183694, name: "Keynote" }
  - { id: 1066144116, name: "Live Home 3D" }
  - { id: 905953485, name: "NordVPN" }
  - { id: 409203825, name: "Numbers" }
  - { id: 409201541, name: "Pages" }
  - { id: 1289583905, name: "Pixelmator Pro" }
  - { id: 1504940162, name: "RocketSim" }
  - { id: 1091675654, name: "Shapr3D" }
  - { id: 747648890, name: "Telegram" }
  - { id: 899247664, name: "TestFlight" }
  - { id: 310633997, name: "WhatsApp" }
  - { id: 1153337296, name: "xcsort" }

# Apps to remove (bundled bloatware)
mas_apps_to_remove:
  - { id: 682658836, name: "GarageBand" }

# VS Code extensions
vscode_extensions:
  - budparr.language-hugo-vscode
  - davidanson.vscode-markdownlint
  - esbenp.prettier-vscode
  - github.copilot
  - github.copilot-chat
  - github.vscode-github-actions
  - llvm-vs-code-extensions.lldb-dap
  - ms-vscode-remote.remote-containers
  - ms-vscode-remote.remote-ssh
  - ms-vscode-remote.remote-ssh-edit
  - ms-vscode-remote.remote-wsl
  - ms-vscode-remote.vscode-remote-extensionpack
  - ms-vscode.remote-explorer
  - ms-vscode.remote-server
  - nickeolofsson.remember-mcp-vscode
  - numso.prettier-standard-vscode
  - openai.chatgpt
  - swiftlang.swift-vscode

# macOS defaults - mirrors current Mac mini setup
# Set configure_macos_defaults: true to apply on new machine
configure_macos_defaults: true
macos_defaults:
  # =============================================================================
  # Finder
  # =============================================================================
  # Show path bar at bottom of Finder windows
  - domain: com.apple.finder
    key: ShowPathbar
    type: bool
    value: true
  # Show status bar at bottom of Finder windows
  - domain: com.apple.finder
    key: ShowStatusBar
    type: bool
    value: true
  # Default to List view (Nlsv = List, icnv = Icon, clmv = Column, Flwv = Gallery)
  - domain: com.apple.finder
    key: FXPreferredViewStyle
    type: string
    value: Nlsv

  # =============================================================================
  # Dock
  # =============================================================================
  # Dock icon size (pixels)
  - domain: com.apple.dock
    key: tilesize
    type: int
    value: 41
  # Enable magnification
  - domain: com.apple.dock
    key: magnification
    type: bool
    value: true

  # =============================================================================
  # Keyboard & Input
  # =============================================================================
  # Disable press-and-hold for diacritics (enable key repeat)
  - domain: NSGlobalDomain
    key: ApplePressAndHoldEnabled
    type: bool
    value: false
  # Disable auto-capitalization
  - domain: NSGlobalDomain
    key: NSAutomaticCapitalizationEnabled
    type: bool
    value: false
  # Enable auto-period (double-space inserts period)
  - domain: NSGlobalDomain
    key: NSAutomaticPeriodSubstitutionEnabled
    type: bool
    value: true

  # =============================================================================
  # Region & Language
  # =============================================================================
  # Languages in order of preference: English (US), Portuguese (BR), German
  - domain: NSGlobalDomain
    key: AppleLanguages
    type: array
    value:
      - en-US
      - pt-BR
      - de-DE
  # Locale: English with Germany as region (for date/number formats)
  - domain: NSGlobalDomain
    key: AppleLocale
    type: string
    value: "en_US@rg=dezzzz"

  # =============================================================================
  # Menu Bar
  # =============================================================================
  # Show day of week in menu bar clock
  - domain: com.apple.menuextra.clock
    key: ShowDayOfWeek
    type: bool
    value: true

  # =============================================================================
  # Safari (Developer)
  # =============================================================================
  # Show full URL in address bar
  - domain: com.apple.Safari
    key: ShowFullURLInSmartSearchField
    type: bool
    value: true
  # Enable Develop menu
  - domain: com.apple.Safari
    key: IncludeDevelopMenu
    type: bool
    value: true
  # Enable Web Inspector
  - domain: com.apple.Safari
    key: WebKitDeveloperExtrasEnabledPreferenceKey
    type: bool
    value: true

  # =============================================================================
  # Activity Monitor
  # =============================================================================
  # Show all processes (100 = All Processes)
  - domain: com.apple.ActivityMonitor
    key: ShowCategory
    type: int
    value: 100

  # =============================================================================
  # Accessibility
  # =============================================================================
  # Enable Ctrl + two-finger scroll/pan to zoom
  - domain: com.apple.universalaccess
    key: closeViewScrollWheelToggle
    type: bool
    value: true
  # Use Control key as modifier (262144 = Control, 524288 = Option, 1048576 = Command)
  - domain: com.apple.AppleMultitouchTrackpad
    key: HIDScrollZoomModifierMask
    type: int
    value: 262144
  # Same for Bluetooth trackpad
  - domain: com.apple.driver.AppleBluetoothMultitouch.trackpad
    key: HIDScrollZoomModifierMask
    type: int
    value: 262144

  # =============================================================================
  # Keyboard - Faster key repeat
  # =============================================================================
  # Key repeat rate (lower = faster, default 6)
  - domain: NSGlobalDomain
    key: KeyRepeat
    type: int
    value: 2
  # Delay until repeat (lower = shorter, default 25)
  - domain: NSGlobalDomain
    key: InitialKeyRepeat
    type: int
    value: 15

  # =============================================================================
  # Screenshots
  # =============================================================================
  # Save screenshots to ~/Pictures/Screenshots
  - domain: com.apple.screencapture
    key: location
    type: string
    value: ~/Pictures/Screenshots
  # Disable shadow in screenshots
  - domain: com.apple.screencapture
    key: disable-shadow
    type: bool
    value: true

  # =============================================================================
  # Siri
  # =============================================================================
  # Disable Siri
  - domain: com.apple.assistant.support
    key: "Assistant Enabled"
    type: bool
    value: false
  # Hide Siri from menu bar
  - domain: com.apple.Siri
    key: StatusMenuVisible
    type: bool
    value: false

  # =============================================================================
  # .DS_Store - Disable on network and USB volumes
  # =============================================================================
  - domain: com.apple.desktopservices
    key: DSDontWriteNetworkStores
    type: bool
    value: true
  - domain: com.apple.desktopservices
    key: DSDontWriteUSBStores
    type: bool
    value: true

# =============================================================================
# Dock Apps (in order, left to right)
# =============================================================================
# Set dock_apps to configure your Dock. Uses app paths.
# Comment out or remove to skip Dock configuration.
dock_apps:
  # System Apps
  - { name: "Apps", path: "/System/Applications/Apps.app" }
  - { name: "Safari", path: "/System/Volumes/Preboot/Cryptexes/App/System/Applications/Safari.app" }
  - { name: "Messages", path: "/System/Applications/Messages.app" }
  - { name: "Mail", path: "/System/Applications/Mail.app" }
  - { name: "Maps", path: "/System/Applications/Maps.app" }
  - { name: "FaceTime", path: "/System/Applications/FaceTime.app" }
  - { name: "Calendar", path: "/System/Applications/Calendar.app" }
  - { name: "Contacts", path: "/System/Applications/Contacts.app" }
  - { name: "Reminders", path: "/System/Applications/Reminders.app" }
  - { name: "Notes", path: "/System/Applications/Notes.app" }
  - { name: "Freeform", path: "/System/Applications/Freeform.app" }
  # Dev Tools
  - { name: "Visual Studio Code", path: "/Applications/Visual Studio Code.app" }
  - { name: "Xcode", path: "/Applications/Xcode.app" }
  - { name: "Terminal", path: "/System/Applications/Utilities/Terminal.app" }
  - { name: "System Settings", path: "/System/Applications/System Settings.app" }
  - { name: "Fork", path: "/Applications/Fork.app" }
  # AI & Communication
  - { name: "ChatGPT", path: "/Applications/ChatGPT.app" }
  - { name: "Telegram", path: "/Applications/Telegram.app" }
  - { name: "WhatsApp", path: "/Applications/WhatsApp.app" }
  # Utilities
  - { name: "RustDesk", path: "/Applications/RustDesk.app" }
  - { name: "Google Chrome", path: "/Applications/Google Chrome.app" }
  - { name: "Preview", path: "/System/Applications/Preview.app" }
  - { name: "Simulator", path: "/Applications/Xcode.app/Contents/Developer/Applications/Simulator.app" }

# Enable Touch ID for sudo (fingerprint authentication in terminal)
enable_touchid_sudo: true

# Automated maintenance schedule (LaunchAgent)
# Runs weekly on Sundays at 10:00 AM - updates Homebrew, MAS apps, Mint
# Logs to ~/.local/log/maintenance.log
enable_maintenance_schedule: true

# Time Machine exclusions
# Paths to exclude from backups (saves space, faster backups)
# Use ~ for home directory
timemachine_exclusions:
  # Xcode
  - ~/Library/Developer/Xcode/DerivedData
  - ~/Library/Developer/Xcode/iOS DeviceSupport
  - ~/Library/Developer/Xcode/watchOS DeviceSupport
  - ~/Library/Developer/Xcode/Archives
  # Caches
  - ~/Library/Caches
  - ~/.cache
  # Package managers
  - ~/Library/Developer/CoreSimulator
  - ~/.cocoapods
  - ~/.gem
  - ~/.rbenv/versions
  - ~/.mint
  # Node.js
  - ~/.npm
  - ~/.node-gyp
  # Homebrew (can reinstall)
  - /opt/homebrew/Caskroom
  # Containers
  - ~/.docker
  - ~/.orbstack

# Vaultwarden/Bitwarden secrets
# These will be fetched via `bw` CLI and written to ~/.zshrc.local
# Server: https://vault.pedro.am
# Supports: password (default), username fields from Login items
vaultwarden_secrets:
  - { bw_name: "OpenAI API Key", env_var: "OPENAI_API_KEY" }
  - { bw_name: "GitHub Token", env_var: "GITHUB_TOKEN" }
  - { bw_name: "Apple ID Credentials", env_var: "XCODES_USERNAME", field: "username" }
  - { bw_name: "Apple ID Credentials", env_var: "XCODES_PASSWORD", field: "password" }

# Sparkle EdDSA signing key (stored in Keychain)
# Create a Login item in Vaultwarden with password = private key
sparkle_key:
  bw_name: "Sparkle EdDSA Key"

# SSH keys to restore from Vaultwarden
# Create Secure Note items with the full private key content
ssh_keys:
  - { bw_name: "SSH Private Key (ed25519)", filename: "id_ed25519" }
  - { bw_name: "SSH Private Key (RSA)", filename: "id_rsa" }

# =============================================================================
# Dev Tooling Configuration
# =============================================================================

# Ruby version to install via rbenv
ruby_version: "3.3.6"

# Mint packages (Swift CLI tools)
# Format: owner/repo@version
mint_packages:
  - SwiftGen/SwiftGen@6.6.3

# Xcode - installs latest stable via xcodes CLI
# Requires XCODES_USERNAME and XCODES_PASSWORD from Vaultwarden
# Set to false to skip Xcode installation
install_xcode: true

# =============================================================================
# Developer Workspace
# =============================================================================
# Repositories to clone into ~/Developer
# Uses SSH URLs (requires SSH key setup first)
# Set update: false to avoid overwriting local changes
developer_repos:
  # Main app
  - { name: "swift-package-shop", repo: "git@github.com:ipedro/swift-package-shop.git" }
  # Libraries
  - { name: "swiftui-property-inspector", repo: "git@github.com:ipedro/swiftui-property-inspector.git" }
  - { name: "swiftui-showcase", repo: "git@github.com:ipedro/swiftui-showcase.git" }
  - { name: "swiftui-backport", repo: "git@github.com:ipedro/swiftui-backport.git" }
  - { name: "swiftui-property-picker", repo: "git@github.com:ipedro/swiftui-property-picker.git" }
  - { name: "swiftui-sessions", repo: "git@github.com:ipedro/swiftui-sessions.git" }
  - { name: "swiftui-styled-view", repo: "git@github.com:ipedro/swiftui-styled-view.git" }
  - { name: "swift-choosable", repo: "git@github.com:ipedro/swift-choosable.git" }
  - { name: "Inspector", repo: "git@github.com:ipedro/Inspector.git" }
  - { name: "AppLogger", repo: "git@github.com:ipedro/AppLogger.git" }
  # Website
  - { name: "swift-pallet-com", repo: "git@github.com:ipedro/swift-pallet-com.git" }
  # Utilities
  - { name: "UIKeyCommandTableView", repo: "git@github.com:ipedro/UIKeyCommandTableView.git" }
